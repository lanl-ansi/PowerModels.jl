<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic Data Utilities · PowerModels</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-367975-10"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-367975-10', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PowerModels logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PowerModels</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quickguide/">Getting Started</a></li><li><a class="tocitem" href="../network-data/">Network Data Format</a></li><li><a class="tocitem" href="../result-data/">Result Data Format</a></li><li><a class="tocitem" href="../math-model/">Mathematical Model</a></li><li><a class="tocitem" href="../power-flow/">Power Flow</a></li><li><a class="tocitem" href="../storage/">Storage Model</a></li><li><a class="tocitem" href="../switch/">Switch Model</a></li><li><a class="tocitem" href="../multi-networks/">Multi Networks</a></li><li><a class="tocitem" href="../utilities/">Utilities</a></li><li class="is-active"><a class="tocitem" href>Basic Data Utilities</a><ul class="internal"><li><a class="tocitem" href="#Matrix-Based-Data"><span>Matrix-Based Data</span></a></li><li><a class="tocitem" href="#Matrix-Based-Computations"><span>Matrix-Based Computations</span></a></li></ul></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../formulations/">Network Formulations</a></li><li><a class="tocitem" href="../specifications/">Problem Specifications</a></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Modeling Components</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../model/">PowerModel</a></li><li><a class="tocitem" href="../objective/">Objective</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li></ul></li><li><a class="tocitem" href="../relaxations/">Relaxation Schemes</a></li><li><a class="tocitem" href="../parser/">File IO</a></li></ul></li><li><span class="tocitem">Developer</span><ul><li><a class="tocitem" href="../developer/">Developer</a></li><li><a class="tocitem" href="../formulation-details/">Formulation Details</a></li></ul></li><li><a class="tocitem" href="../experiment-results/">Experiment Results</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Basic Data Utilities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic Data Utilities</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/PowerModels.jl/blob/master/docs/src/basic-data-utilities.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Basic-Data-Utilities"><a class="docs-heading-anchor" href="#Basic-Data-Utilities">Basic Data Utilities</a><a id="Basic-Data-Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Data-Utilities" title="Permalink"></a></h1><p>By default PowerModels uses a data model that captures the bulk of the features of realistic transmission network datasets such as, inactive devices, breakers and HVDC lines. However, these features preclude popular matrix-based analysis of power network datasets such as incidence, admittance, and power transfer distribution factor (PTDF) matrices. To support these types of analysis PowerModels introduces the concept of a <em>basic networks</em>, which are network datasets that satisfy the properties required to interpret the system in a matrix form.</p><p>The <code>make_basic_network</code> is provided to ensure that a given network dataset satisfies the properties required for a matrix interpretation (the specific requirements are outlined in the function documentation block). If the given dataset does not satisfy the properties, <code>make_basic_network</code> transforms the dataset to enforce them.</p><article class="docstring"><header><a class="docstring-binding" id="PowerModels.make_basic_network" href="#PowerModels.make_basic_network"><code>PowerModels.make_basic_network</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a powermodels data dict produces a new data dict that conforms to the following basic network model requirements.</p><ul><li>no dclines</li><li>no switches</li><li>no inactive components</li><li>all components are numbered from 1-to-n</li><li>the network forms a single connected component</li><li>there exactly one phase angle reference bus</li><li>generation cost functions are quadratic</li><li>all branches have explicit thermal limits</li><li>phase shift on all transformers is set to 0.0</li><li>bus shunts have 0.0 conductance values</li></ul><p>users requiring any of the features listed above for their analysis should use  the non-basic PowerModels routines.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L3-L18">source</a></section></article><p>The standard procedure for loading basic network data is as follows,</p><pre><code class="language-julia hljs">data = make_basic_network(parse_file(&quot;&lt;path to network data file&gt;&quot;))</code></pre><p>modifications to the original network data file are indicated by logging messages in the terminal.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>If <code>make_basic_network</code> results in significant changes to a dataset, <code>export_file</code> can be used to inspect and modify the new derivative dataset that conforms to the basic network requirements.</p></div></div><h2 id="Matrix-Based-Data"><a class="docs-heading-anchor" href="#Matrix-Based-Data">Matrix-Based Data</a><a id="Matrix-Based-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix-Based-Data" title="Permalink"></a></h2><p>Using a basic network dataset the following functions can be used to extract key power system quantities in vectors and matrix forms. The prefix <code>_basic_</code> distinguishes these functions from similar tools that operate on any type of PowerModels data, including those that are not amenable to a vector/matrix format.</p><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_bus_voltage" href="#PowerModels.calc_basic_bus_voltage"><code>PowerModels.calc_basic_bus_voltage</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a complex valued vector of bus voltage values in rectangular coordinates as they appear in the network data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L167-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_bus_injection" href="#PowerModels.calc_basic_bus_injection"><code>PowerModels.calc_basic_bus_injection</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a complex valued vector of bus power injections as they appear in the network data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L182-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_branch_series_impedance" href="#PowerModels.calc_basic_branch_series_impedance"><code>PowerModels.calc_basic_branch_series_impedance</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a complex valued vector of branch series impedances.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L197-L200">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_incidence_matrix" href="#PowerModels.calc_basic_incidence_matrix"><code>PowerModels.calc_basic_incidence_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a sparse integer valued incidence matrix with one row for each branch and one column for each bus in the network. In each branch row a +1 is used to indicate the <em>from</em> bus and -1 is used to indicate <em>to</em> bus.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L213-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_admittance_matrix" href="#PowerModels.calc_basic_admittance_matrix"><code>PowerModels.calc_basic_admittance_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a sparse complex valued admittance matrix with one row and column for each bus in the network.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L238-L241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_susceptance_matrix" href="#PowerModels.calc_basic_susceptance_matrix"><code>PowerModels.calc_basic_susceptance_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a sparse real valued susceptance matrix with one row and column for each bus in the network. This susceptance matrix reflects the imaginary part of an admittance matrix that only considers the branch series impedance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L251-L256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_branch_susceptance_matrix" href="#PowerModels.calc_basic_branch_susceptance_matrix"><code>PowerModels.calc_basic_branch_susceptance_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a sparse real valued branch susceptance matrix with one row for each branch and one column for each bus in the network. Multiplying the branch susceptance matrix by bus phase angels yields a vector active power flow values for each branch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L266-L271">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_jacobian_matrix" href="#PowerModels.calc_basic_jacobian_matrix"><code>PowerModels.calc_basic_jacobian_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a sparse real valued Jacobian matrix of the ac power flow problem.  The power variables are ordered by p and then q while voltage values are ordered by voltage angle and then voltage magnitude.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L389-L393">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_ptdf_matrix" href="#PowerModels.calc_basic_ptdf_matrix"><code>PowerModels.calc_basic_ptdf_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, returns a real valued ptdf matrix with one row for each branch and one column for each bus in the network. Multiplying the ptdf matrix by bus injection values yields a vector active power flow values on each branch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L327-L332">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModels.calc_basic_ptdf_row" href="#PowerModels.calc_basic_ptdf_row"><code>PowerModels.calc_basic_ptdf_row</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict and a branch index returns a row of the ptdf matrix reflecting that branch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L357-L360">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Several variants of the real-valued susceptance matrix are possible. PowerModels uses the version based on inverse of branch series impedance, that is <code>imag(inv(r + x im))</code>. One may observe slightly different results when compared to tools that use other variants such as <code>1/x</code>.</p></div></div><h2 id="Matrix-Based-Computations"><a class="docs-heading-anchor" href="#Matrix-Based-Computations">Matrix-Based Computations</a><a id="Matrix-Based-Computations-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix-Based-Computations" title="Permalink"></a></h2><p>Matrix-based network data can be combined to compute a number of useful quantities. For example, by combining the incidence matrix and the series impedance one can drive the susceptance and branch susceptance matrices as follows,</p><pre><code class="language-julia hljs">import LinearAlgebra: Diagonal

bz = calc_basic_branch_series_impedance(data)
A  = calc_basic_incidence_matrix(data)

Y  = imag(Diagonal(inv.(bz)))
B  = A&#39;*Y*A    # equivalent to calc_basic_susceptance_matrix
BB = (A&#39;*Y)&#39;   # equivalent to calc_basic_branch_susceptance_matrix</code></pre><p>The bus voltage angles can be combined with the susceptance and branch susceptance matrices to observe how power flows through the network as follows,</p><pre><code class="language-julia hljs">va = angle.(calc_basic_bus_voltage(data))
B  = calc_basic_susceptance_matrix(data)
BB = calc_basic_branch_susceptance_matrix(data)

bus_injection =  -B * va
branch_power  = -BB * va</code></pre><p>In the inverse operation, bus injection values can be combined with a PTDF matrix to compute branch flow values as follows,</p><pre><code class="language-julia hljs">bi   = real(calc_basic_bus_injection(data))
PTDF = calc_basic_ptdf_matrix(data)

branch_power = PTDF * bi</code></pre><p>Finally, the following function provides a tool to solve a DC power flow on basic network data using Julia&#39;s native linear equation solver,</p><article class="docstring"><header><a class="docstring-binding" id="PowerModels.compute_basic_dc_pf" href="#PowerModels.compute_basic_dc_pf"><code>PowerModels.compute_basic_dc_pf</code></a> — <span class="docstring-category">Function</span></header><section><div><p>given a basic network data dict, computes real valued vector of bus voltage phase angles by solving a dc power flow.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/PowerModels.jl/blob/211e601fb6c9684a0e36866a96c35be7040efd85/src/core/data_basic.jl#L292-L295">source</a></section></article><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>By default PowerModels uses Julia&#39;s SparseArrays to ensure the best performance of matrix operations on large power network datasets. The function <code>Matrix(sparse_array)</code> can be used to covert a sparse matrix into a full matrix when that is preferred.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../utilities/">« Utilities</a><a class="docs-footer-nextpage" href="../formulations/">Network Formulations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.14 on <span class="colophon-date" title="Wednesday 2 March 2022 16:00">Wednesday 2 March 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
